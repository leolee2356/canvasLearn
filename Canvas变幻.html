<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>变换</title>
	<style>
		body{
			background:black;
		}
		canvas{
			background:white;

		}
	</style>
</head>
<body>
	<canvas width="600" height="400">
		不支持canvas
	</canvas>
	<canvas width="600" height="400">
		不支持canvas1
	</canvas>
	<script>
		window.onload = function(){
			var canv =document.querySelector('canvas');
			var canvas =canv.getContext('2d');
			canvas.translate(100,100);//移动坐标零点
			canvas.rotate(20*Math.PI/180);//旋转当前的绘图	
			canvas.rotate(25*Math.PI/180);
			canvas.scale(2,2);//放大缩小当前的绘图
			canvas.fillRect(0,0,100,100);	
			//自动变换特性
			var canv1 =document.querySelectorAll('canvas')[1];
			var canvas1 =canv1.getContext('2d');		
			var num = 0 ,num2 =0,value = 1;
			setInterval(function(){
				num++
				canvas1.save();
				canvas1.fillStyle ="red";
				//清空画布
				canvas1.clearRect(0,0,canv.width,canv.height);
				canvas1.translate(100,100);//更改坐标原点
				{	//成功实现洪块打大小变化
					if (num2 ==100) {
						value = -1;
					} 
					else if
					 (num2 == 0) {
					 	value = 1;
					};
					num2 += value;
					canvas1.scale(num2*1/50,num2*1/50);
				}

				canvas1.rotate(num*Math.PI/180);
				canvas1.translate(-50,-50);//把坐标点设置为中心
				//值为负数时坐标原点变换为从当前位置上移 左移填入的距离
				canvas1.fillRect(0,0,100,100);
				canvas1.restore();


			},30);
		} ;
	</script>
	
</body>
</html>